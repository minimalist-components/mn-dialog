"use strict";function toggle(){body.classList.toggle("mn-dialog-opened"),dialog.classList.toggle("opened")}function close(){body.classList.remove("mn-dialog-opened"),dialog.classList.remove("opened")}function hideDialog(event){event.target.classList.contains("mn-dialog-opened")&&close()}function escapeKeyUp(event){var esc=27===event.keyCode,dialogOpened=body.classList.contains("mn-dialog-opened");esc&&dialogOpened&&close()}function setMotionBlur(){function setBlur(x,y){blurFilter.setAttribute("stdDeviation",x+","+y)}function getOffset(el){var box=el.getBoundingClientRect();return{top:box.top+window.pageYOffset-document.documentElement.clientTop,left:box.left+window.pageXOffset-document.documentElement.clientLeft}}function updateMotionBlur(){var currentPos=getOffset(dialog),xDiff=Math.abs(currentPos.left-lastPos.left)*multiplier,yDiff=Math.abs(currentPos.top-lastPos.top)*multiplier;setBlur(xDiff,yDiff),lastPos=currentPos,requestAnimationFrame(updateMotionBlur)}var blur=document.querySelector("#motion-blur"),blurFilter=blur.firstElementChild,lastPos=getOffset(dialog),multiplier=.25;updateMotionBlur()}var trigger=document.querySelector(".toggle-dialog"),dialog=document.querySelector(".mn-dialog"),body=document.querySelector("body");trigger.addEventListener("click",toggle),body.addEventListener("click",hideDialog),document.addEventListener("keyup",escapeKeyUp),setMotionBlur();
//# sourceMappingURL=mn-dialog.js.map
