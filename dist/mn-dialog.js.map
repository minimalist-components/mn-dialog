{"version":3,"sources":["scripts/mn-dialog.component.js"],"names":["toggle","body","classList","dialog","close","remove","hideDialog","event","target","contains","escapeKeyUp","esc","keyCode","dialogOpened","setMotionBlur","setBlur","x","y","blurFilter","setAttribute","updateMotionBlur","currentPos","left","offsetLeft","top","offsetTop","xDiff","Math","abs","lastPos","multiplier","yDiff","requestAnimationFrame","blur","document","querySelector","firstElementChild","trigger","addEventListener","onkeyup"],"mappings":"AAAA,YAWA,SAASA,UACPC,KAAKC,UAAUF,OAAO,oBACtBG,OAAOD,UAAUF,OAAO,UAG1B,QAASI,SACPH,KAAKC,UAAUG,OAAO,oBACtBF,OAAOD,UAAUG,OAAO,UAG1B,QAASC,YAAWC,OACdA,MAAMC,OAAON,UAAUO,SAAS,qBAClCL,QAIJ,QAASM,aAAYH,OACnB,GAAII,KAAwB,KAAlBJ,MAAMK,QACZC,aAAeZ,KAAKC,UAAUO,SAAS,mBACvCE,MAAOE,cACTT,QAIJ,QAASU,iBAYP,QAASC,SAAQC,EAAEC,GACjBC,WAAWC,aAAa,eAAmBH,EAA3C,IAAgDC,GAGlD,QAASG,oBAEP,GAAIC,aACFC,KAAMnB,OAAOoB,WACbC,IAAKrB,OAAOsB,WAIVC,MAAQC,KAAKC,IAAIP,WAAWC,KAAOO,QAAQP,MAAQQ,WACnDC,MAAQJ,KAAKC,IAAIP,WAAWG,IAAMK,QAAQL,KAAOM,UAGrDf,SAAQW,MAAMK,OACdF,QAAUR,WAEVW,sBAAsBZ,kBA9BxB,GAAIa,MAAOC,SAASC,cAAc,gBAC9BjB,WAAae,KAAKG,kBAElBP,SACFP,KAAMnB,OAAOoB,WACbC,IAAKrB,OAAOsB,WAEVK,WAAa,GAEjBV,oBA3CF,GAAIiB,SAAUH,SAASC,cAAc,kBACjChC,OAAS+B,SAASC,cAAc,cAChClC,KAAOiC,SAASC,cAAc,OAElCE,SAAQC,iBAAiB,QAAStC,QAClCC,KAAKqC,iBAAiB,QAAShC,YAC/B4B,SAASK,QAAU7B,YACnBI","file":"mn-dialog.js","sourcesContent":["'use strict';\n\nlet trigger = document.querySelector('.toggle-dialog');\nlet dialog = document.querySelector('.mn-dialog');\nlet body = document.querySelector('body');\n\ntrigger.addEventListener('click', toggle);\nbody.addEventListener('click', hideDialog);\ndocument.onkeyup = escapeKeyUp;\nsetMotionBlur();\n\nfunction toggle() {\n  body.classList.toggle('mn-dialog-opened');\n  dialog.classList.toggle('opened');\n}\n\nfunction close() {\n  body.classList.remove('mn-dialog-opened');\n  dialog.classList.remove('opened');\n}\n\nfunction hideDialog(event) {\n  if (event.target.classList.contains('mn-dialog-opened')) {\n    close();\n  }\n}\n\nfunction escapeKeyUp(event) {\n  let esc = event.keyCode === 27;\n  let dialogOpened = body.classList.contains('mn-dialog-opened');\n  if (esc && dialogOpened) {\n    close();\n  }\n}\n\nfunction setMotionBlur() {\n  let blur = document.querySelector('#motion-blur'); // the blur filter\n  let blurFilter = blur.firstElementChild;\n\n  let lastPos = {\n    left: dialog.offsetLeft,\n    top: dialog.offsetTop,\n  };//$element.offset();\n  let multiplier = 0.25;\n\n  updateMotionBlur();\n\n  function setBlur(x,y){\n    blurFilter.setAttribute('stdDeviation', `${x},${y}`);\n  }\n\n  function updateMotionBlur() {\n    // get the current position of the element\n    let currentPos = {\n      left: dialog.offsetLeft,\n      top: dialog.offsetTop,\n    };// $element.offset();\n\n    // calculate the changes from the last frame and apply the multiplier\n    let xDiff = Math.abs(currentPos.left - lastPos.left) * multiplier;\n    let yDiff = Math.abs(currentPos.top - lastPos.top) * multiplier;\n\n    // set the blur\n    setBlur(xDiff,yDiff);\n    lastPos = currentPos;\n\n    requestAnimationFrame(updateMotionBlur);\n  }\n}\n"],"sourceRoot":"/source/"}